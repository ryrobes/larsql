cascade_id: feedback_review
description: Professional feedback review application with grid overview and item-by-item
  approval workflow
inputs_schema:
  items: List of feedback items to review (each with id, customer, date, category,
    message, status)
model: null
cells:
- name: grid_overview
  hitl: "<style>\n  .review-app { font-family: 'Google Sans', 'SF Mono', monospace;\
    \ background: #000; color: #e2e8f0; padding: 8px; }\n  .header { display: flex;\
    \ justify-content: space-between; align-items: center; border-bottom: 1px solid\
    \ #1e293b; padding-bottom: 8px; margin-bottom: 8px; }\n  .header h1 { font-size:\
    \ 14px; font-weight: 600; color: #00e5ff; margin: 0; text-transform: uppercase;\
    \ letter-spacing: 1px; }\n  .stats { display: flex; gap: 16px; font-size: 11px;\
    \ }\n  .stat { padding: 4px 8px; background: #0a0a0a; border: 1px solid #1e293b;\
    \ }\n  .stat-value { color: #22d399; font-weight: 600; }\n  .grid-table { width:\
    \ 100%; border-collapse: collapse; font-size: 12px; }\n  .grid-table th { text-align:\
    \ left; padding: 6px 8px; background: #0a0a0a; border-bottom: 2px solid #334155;\
    \ color: #64748b; font-weight: 500; text-transform: uppercase; font-size: 10px;\
    \ letter-spacing: 0.5px; }\n  .grid-table td { padding: 6px 8px; border-bottom:\
    \ 1px solid #1e293b; }\n  .grid-table tr:hover { background: #0f172a; }\n  .grid-table\
    \ tr[data-status='pending'] td:first-child { border-left: 2px solid #f59e0b; }\n\
    \  .grid-table tr[data-status='approved'] td:first-child { border-left: 2px solid\
    \ #22d399; }\n  .grid-table tr[data-status='rejected'] td:first-child { border-left:\
    \ 2px solid #ef4444; }\n  .status-badge { font-size: 10px; padding: 2px 6px; border-radius:\
    \ 2px; text-transform: uppercase; }\n  .status-pending { background: #78350f;\
    \ color: #fbbf24; }\n  .status-approved { background: #14532d; color: #4ade80;\
    \ }\n  .status-rejected { background: #7f1d1d; color: #f87171; }\n  .cat-tag {\
    \ font-size: 10px; padding: 2px 6px; background: #1e1b4b; color: #a78bfa; border-radius:\
    \ 2px; }\n  .msg-preview { color: #94a3b8; max-width: 300px; overflow: hidden;\
    \ text-overflow: ellipsis; white-space: nowrap; }\n  .action-btn { background:\
    \ #00e5ff; color: #000; border: none; padding: 4px 10px; font-size: 11px; font-weight:\
    \ 600; cursor: pointer; border-radius: 2px; }\n  .action-btn:hover { background:\
    \ #22d3ee; }\n  .footer { margin-top: 12px; display: flex; justify-content: space-between;\
    \ align-items: center; }\n  .footer-actions { display: flex; gap: 8px; }\n  .btn-secondary\
    \ { background: transparent; color: #64748b; border: 1px solid #334155; padding:\
    \ 6px 12px; font-size: 11px; cursor: pointer; border-radius: 2px; }\n</style>\n\
    <div class=\"review-app\">\n  <div class=\"header\">\n    <h1>Feedback Review</h1>\n\
    \    <div class=\"stats\">\n      <div class=\"stat\">Total: <span class=\"stat-value\"\
    >{{ state.items | length }}</span></div>\n      <div class=\"stat\">Pending: <span\
    \ class=\"stat-value\">{{ state.items | selectattr('status', 'equalto', 'pending')\
    \ | list | length }}</span></div>\n      <div class=\"stat\">Approved: <span class=\"\
    stat-value\" style=\"color:#22d399\">{{ state.items | selectattr('status', 'equalto',\
    \ 'approved') | list | length }}</span></div>\n      <div class=\"stat\">Rejected:\
    \ <span class=\"stat-value\" style=\"color:#ef4444\">{{ state.items | selectattr('status',\
    \ 'equalto', 'rejected') | list | length }}</span></div>\n    </div>\n  </div>\n\
    \  <table class=\"grid-table\">\n    <thead>\n      <tr><th>#</th><th>Customer</th><th>Date</th><th>Category</th><th>Message</th><th>Status</th><th></th></tr>\n\
    \    </thead>\n    <tbody>\n      {% for item in state.items %}\n      <tr data-status=\"\
    {{ item.status }}\">\n        <td style=\"color:#64748b\">{{ item.id }}</td>\n\
    \        <td style=\"font-weight:500\">{{ item.customer }}</td>\n        <td style=\"\
    color:#64748b;font-size:11px\">{{ item.date }}</td>\n        <td><span class=\"\
    cat-tag\">{{ item.category }}</span></td>\n        <td class=\"msg-preview\">{{\
    \ item.message[:60] }}{% if item.message|length > 60 %}...{% endif %}</td>\n \
    \       <td><span class=\"status-badge status-{{ item.status }}\">{{ item.status\
    \ }}</span></td>\n        <td>\n          <form hx-post=\"/checkpoint/respond\"\
    \ hx-ext=\"json-enc\" style=\"margin:0\">\n            <input type=\"hidden\"\
    \ name=\"response[selected_id]\" value=\"{{ item.id }}\">\n            <button\
    \ type=\"submit\" name=\"response[action]\" value=\"review\" class=\"action-btn\"\
    >Review</button>\n          </form>\n        </td>\n      </tr>\n      {% endfor\
    \ %}\n    </tbody>\n  </table>\n  <div class=\"footer\">\n    <div style=\"color:#64748b;font-size:11px\"\
    >Click any row to review</div>\n    <div class=\"footer-actions\">\n      <form\
    \ hx-post=\"/checkpoint/respond\" hx-ext=\"json-enc\" style=\"margin:0;display:inline\"\
    >\n        <button type=\"submit\" name=\"response[action]\" value=\"finish\"\
    \ class=\"btn-secondary\">Finish Session</button>\n      </form>\n    </div>\n\
    \  </div>\n</div>"
  handoffs:
  - item_detail
  - summary
- name: item_detail
  hitl: "<style>\n  .detail-view { font-family: 'Google Sans', 'SF Mono', monospace;\
    \ background: #000; color: #e2e8f0; padding: 8px; }\n  .detail-header { display:\
    \ flex; justify-content: space-between; align-items: flex-start; margin-bottom:\
    \ 12px; padding-bottom: 8px; border-bottom: 1px solid #1e293b; }\n  .item-id {\
    \ color: #64748b; font-size: 11px; }\n  .back-link { color: #64748b; font-size:\
    \ 11px; text-decoration: none; cursor: pointer; border: 1px solid #334155; padding:\
    \ 4px 8px; background: transparent; }\n  .back-link:hover { border-color: #00e5ff;\
    \ color: #00e5ff; }\n  .meta-row { display: flex; gap: 16px; margin-bottom: 16px;\
    \ font-size: 12px; }\n  .meta-item { padding: 8px 12px; background: #0a0a0a; border:\
    \ 1px solid #1e293b; }\n  .meta-label { color: #64748b; font-size: 10px; text-transform:\
    \ uppercase; margin-bottom: 2px; }\n  .meta-value { color: #e2e8f0; font-weight:\
    \ 500; }\n  .cat-tag { font-size: 10px; padding: 2px 6px; background: #1e1b4b;\
    \ color: #a78bfa; border-radius: 2px; display: inline-block; }\n  .message-box\
    \ { background: #0a0a0a; border-left: 3px solid #00e5ff; padding: 16px; margin-bottom:\
    \ 16px; }\n  .message-label { color: #64748b; font-size: 10px; text-transform:\
    \ uppercase; margin-bottom: 8px; }\n  .message-text { color: #f1f5f9; font-size:\
    \ 14px; line-height: 1.6; white-space: pre-wrap; }\n  .action-bar { display: flex;\
    \ gap: 8px; padding-top: 12px; border-top: 1px solid #1e293b; }\n  .btn-approve\
    \ { background: #22d399; color: #000; border: none; padding: 10px 24px; font-size:\
    \ 12px; font-weight: 600; cursor: pointer; border-radius: 2px; }\n  .btn-approve:hover\
    \ { background: #4ade80; }\n  .btn-reject { background: #ef4444; color: #fff;\
    \ border: none; padding: 10px 24px; font-size: 12px; font-weight: 600; cursor:\
    \ pointer; border-radius: 2px; }\n  .btn-reject:hover { background: #f87171; }\n\
    \  .btn-skip { background: transparent; color: #64748b; border: 1px solid #334155;\
    \ padding: 10px 24px; font-size: 12px; cursor: pointer; border-radius: 2px; }\n\
    \  .btn-skip:hover { border-color: #00e5ff; color: #00e5ff; }\n  .nav-hint { color:\
    \ #475569; font-size: 11px; margin-left: auto; align-self: center; }\n  .kbd {\
    \ background: #1e293b; padding: 2px 6px; border-radius: 2px; font-size: 10px;\
    \ }\n</style>\n{% set current_item = state.items | selectattr('id', 'equalto',\
    \ state.selected_id) | first %}\n<div class=\"detail-view\">\n  <div class=\"\
    detail-header\">\n    <div>\n      <div class=\"item-id\">ITEM #{{ current_item.id\
    \ }}</div>\n    </div>\n    <form hx-post=\"/checkpoint/respond\" hx-ext=\"json-enc\"\
    \ style=\"margin:0\">\n      <button type=\"submit\" name=\"response[action]\"\
    \ value=\"back_to_grid\" class=\"back-link\">← Back to Grid</button>\n    </form>\n\
    \  </div>\n  \n  <div class=\"meta-row\">\n    <div class=\"meta-item\">\n   \
    \   <div class=\"meta-label\">Customer</div>\n      <div class=\"meta-value\"\
    >{{ current_item.customer }}</div>\n    </div>\n    <div class=\"meta-item\">\n\
    \      <div class=\"meta-label\">Date</div>\n      <div class=\"meta-value\">{{\
    \ current_item.date }}</div>\n    </div>\n    <div class=\"meta-item\">\n    \
    \  <div class=\"meta-label\">Category</div>\n      <div class=\"meta-value\"><span\
    \ class=\"cat-tag\">{{ current_item.category }}</span></div>\n    </div>\n   \
    \ <div class=\"meta-item\">\n      <div class=\"meta-label\">Current Status</div>\n\
    \      <div class=\"meta-value\" style=\"color:{% if current_item.status == 'approved'\
    \ %}#22d399{% elif current_item.status == 'rejected' %}#ef4444{% else %}#f59e0b{%\
    \ endif %}\">{{ current_item.status | upper }}</div>\n    </div>\n  </div>\n \
    \ \n  <div class=\"message-box\">\n    <div class=\"message-label\">Feedback Message</div>\n\
    \    <div class=\"message-text\">{{ current_item.message }}</div>\n  </div>\n\
    \  \n  <form hx-post=\"/checkpoint/respond\" hx-ext=\"json-enc\">\n    <input\
    \ type=\"hidden\" name=\"response[item_id]\" value=\"{{ current_item.id }}\">\n\
    \    <div class=\"action-bar\">\n      <button type=\"submit\" name=\"response[action]\"\
    \ value=\"approve\" class=\"btn-approve\">✓ Approve</button>\n      <button type=\"\
    submit\" name=\"response[action]\" value=\"reject\" class=\"btn-reject\">✗ Reject</button>\n\
    \      <button type=\"submit\" name=\"response[action]\" value=\"skip\" class=\"\
    btn-skip\">Skip →</button>\n      <div class=\"nav-hint\"><span class=\"kbd\"\
    >A</span> approve <span class=\"kbd\">R</span> reject <span class=\"kbd\">→</span>\
    \ skip</div>\n    </div>\n  </form>\n</div>"
  handoffs:
  - grid_overview
  - item_detail
  - summary
- name: summary
  hitl: "<style>\n  .summary-view { font-family: 'Google Sans', 'SF Mono', monospace;\
    \ background: #000; color: #e2e8f0; padding: 8px; }\n  .summary-header { border-bottom:\
    \ 1px solid #1e293b; padding-bottom: 8px; margin-bottom: 16px; }\n  .summary-header\
    \ h1 { font-size: 14px; font-weight: 600; color: #00e5ff; margin: 0 0 4px 0; text-transform:\
    \ uppercase; letter-spacing: 1px; }\n  .summary-header p { color: #64748b; font-size:\
    \ 12px; margin: 0; }\n  .stats-grid { display: grid; grid-template-columns: repeat(4,\
    \ 1fr); gap: 8px; margin-bottom: 16px; }\n  .stat-card { background: #0a0a0a;\
    \ border: 1px solid #1e293b; padding: 12px; text-align: center; }\n  .stat-card.approved\
    \ { border-color: #22d399; }\n  .stat-card.rejected { border-color: #ef4444; }\n\
    \  .stat-card.pending { border-color: #f59e0b; }\n  .stat-number { font-size:\
    \ 28px; font-weight: 700; color: #e2e8f0; }\n  .stat-card.approved .stat-number\
    \ { color: #22d399; }\n  .stat-card.rejected .stat-number { color: #ef4444; }\n\
    \  .stat-card.pending .stat-number { color: #f59e0b; }\n  .stat-label { font-size:\
    \ 10px; color: #64748b; text-transform: uppercase; margin-top: 4px; }\n  .breakdown\
    \ { margin-bottom: 16px; }\n  .breakdown h2 { font-size: 11px; color: #64748b;\
    \ text-transform: uppercase; margin: 0 0 8px 0; }\n  .breakdown-table { width:\
    \ 100%; border-collapse: collapse; font-size: 11px; }\n  .breakdown-table th {\
    \ text-align: left; padding: 6px 8px; background: #0a0a0a; border-bottom: 1px\
    \ solid #334155; color: #64748b; font-weight: 500; }\n  .breakdown-table td {\
    \ padding: 6px 8px; border-bottom: 1px solid #1e293b; }\n  .status-dot { width:\
    \ 8px; height: 8px; border-radius: 50%; display: inline-block; margin-right: 6px;\
    \ }\n  .status-dot.approved { background: #22d399; }\n  .status-dot.rejected {\
    \ background: #ef4444; }\n  .status-dot.pending { background: #f59e0b; }\n  .action-bar\
    \ { display: flex; gap: 8px; padding-top: 12px; border-top: 1px solid #1e293b;\
    \ }\n  .btn-primary { background: #00e5ff; color: #000; border: none; padding:\
    \ 10px 24px; font-size: 12px; font-weight: 600; cursor: pointer; border-radius:\
    \ 2px; }\n  .btn-secondary { background: transparent; color: #64748b; border:\
    \ 1px solid #334155; padding: 10px 24px; font-size: 12px; cursor: pointer; border-radius:\
    \ 2px; }\n</style>\n<div class=\"summary-view\">\n  <div class=\"summary-header\"\
    >\n    <h1>Session Complete</h1>\n    <p>Review summary for this session</p>\n\
    \  </div>\n  \n  <div class=\"stats-grid\">\n    <div class=\"stat-card\">\n \
    \     <div class=\"stat-number\">{{ state.items | length }}</div>\n      <div\
    \ class=\"stat-label\">Total Items</div>\n    </div>\n    <div class=\"stat-card\
    \ approved\">\n      <div class=\"stat-number\">{{ state.items | selectattr('status',\
    \ 'equalto', 'approved') | list | length }}</div>\n      <div class=\"stat-label\"\
    >Approved</div>\n    </div>\n    <div class=\"stat-card rejected\">\n      <div\
    \ class=\"stat-number\">{{ state.items | selectattr('status', 'equalto', 'rejected')\
    \ | list | length }}</div>\n      <div class=\"stat-label\">Rejected</div>\n \
    \   </div>\n    <div class=\"stat-card pending\">\n      <div class=\"stat-number\"\
    >{{ state.items | selectattr('status', 'equalto', 'pending') | list | length }}</div>\n\
    \      <div class=\"stat-label\">Pending</div>\n    </div>\n  </div>\n  \n  <div\
    \ class=\"breakdown\">\n    <h2>Items Reviewed</h2>\n    <table class=\"breakdown-table\"\
    >\n      <thead>\n        <tr><th>ID</th><th>Customer</th><th>Category</th><th>Status</th></tr>\n\
    \      </thead>\n      <tbody>\n        {% for item in state.items %}\n      \
    \  <tr>\n          <td style=\"color:#64748b\">#{{ item.id }}</td>\n         \
    \ <td>{{ item.customer }}</td>\n          <td style=\"color:#a78bfa\">{{ item.category\
    \ }}</td>\n          <td><span class=\"status-dot {{ item.status }}\"></span>{{\
    \ item.status | capitalize }}</td>\n        </tr>\n        {% endfor %}\n    \
    \  </tbody>\n    </table>\n  </div>\n  \n  <form hx-post=\"/checkpoint/respond\"\
    \ hx-ext=\"json-enc\">\n    <div class=\"action-bar\">\n      <button type=\"\
    submit\" name=\"response[action]\" value=\"continue_reviewing\" class=\"btn-secondary\"\
    >← Continue Reviewing</button>\n      <button type=\"submit\" name=\"response[action]\"\
    \ value=\"export\" class=\"btn-primary\">Export Results</button>\n      <button\
    \ type=\"submit\" name=\"response[action]\" value=\"done\" class=\"btn-secondary\"\
    >Done</button>\n    </div>\n  </form>\n</div>"
  handoffs:
  - grid_overview
_calliope_metadata:
  created_at: '2025-12-29T22:50:48.913376'
  version: 1
