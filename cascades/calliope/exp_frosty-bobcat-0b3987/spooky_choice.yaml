cascade_id: spooky_choice
description: A beautiful dark-mode micro-app with yes/no choice, confirmation, and
  confetti celebration with spooky ghost friends!
inputs_schema: {}
model: claude-sonnet-4-20250514
cells:
- name: choice_screen
  hitl: "<style>\n  @keyframes float {\n    0%, 100% { transform: translateY(0px)\
    \ rotate(-5deg); }\n    50% { transform: translateY(-20px) rotate(5deg); }\n \
    \ }\n  @keyframes glow {\n    0%, 100% { text-shadow: 0 0 20px rgba(167, 139,\
    \ 250, 0.5); }\n    50% { text-shadow: 0 0 40px rgba(167, 139, 250, 0.8), 0 0\
    \ 60px rgba(139, 92, 246, 0.4); }\n  }\n  @keyframes ghostFloat {\n    0%, 100%\
    \ { transform: translateY(0) translateX(0); opacity: 0.7; }\n    25% { transform:\
    \ translateY(-15px) translateX(10px); opacity: 0.9; }\n    50% { transform: translateY(-5px)\
    \ translateX(-5px); opacity: 0.6; }\n    75% { transform: translateY(-20px) translateX(5px);\
    \ opacity: 0.8; }\n  }\n  .ghost {\n    position: fixed;\n    font-size: 60px;\n\
    \    animation: ghostFloat 4s ease-in-out infinite;\n    filter: drop-shadow(0\
    \ 0 10px rgba(255,255,255,0.3));\n    z-index: 10;\n    pointer-events: none;\n\
    \  }\n  .choice-container {\n    min-height: 100vh;\n    display: flex;\n    flex-direction:\
    \ column;\n    justify-content: center;\n    align-items: center;\n    background:\
    \ radial-gradient(ellipse at center, #1e1b4b 0%, #0f0a1e 50%, #000 100%);\n  \
    \  padding: 40px;\n  }\n  .title {\n    font-size: 2.5rem;\n    font-weight: 700;\n\
    \    color: #e2e8f0;\n    margin-bottom: 16px;\n    animation: glow 3s ease-in-out\
    \ infinite;\n    text-align: center;\n  }\n  .subtitle {\n    color: #94a3b8;\n\
    \    font-size: 1.1rem;\n    margin-bottom: 48px;\n    text-align: center;\n \
    \ }\n  .btn-group {\n    display: flex;\n    gap: 24px;\n  }\n  .btn-yes {\n \
    \   background: linear-gradient(135deg, #22d3ee 0%, #06b6d4 100%);\n    color:\
    \ #0f172a;\n    border: none;\n    padding: 16px 48px;\n    font-size: 1.25rem;\n\
    \    font-weight: 700;\n    border-radius: 12px;\n    cursor: pointer;\n    transition:\
    \ all 0.3s ease;\n    box-shadow: 0 4px 20px rgba(34, 211, 238, 0.3);\n  }\n \
    \ .btn-yes:hover {\n    transform: translateY(-3px) scale(1.05);\n    box-shadow:\
    \ 0 8px 30px rgba(34, 211, 238, 0.5);\n  }\n  .btn-no {\n    background: linear-gradient(135deg,\
    \ #f87171 0%, #ef4444 100%);\n    color: white;\n    border: none;\n    padding:\
    \ 16px 48px;\n    font-size: 1.25rem;\n    font-weight: 700;\n    border-radius:\
    \ 12px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    box-shadow:\
    \ 0 4px 20px rgba(248, 113, 113, 0.3);\n  }\n  .btn-no:hover {\n    transform:\
    \ translateY(-3px) scale(1.05);\n    box-shadow: 0 8px 30px rgba(248, 113, 113,\
    \ 0.5);\n  }\n</style>\n\n<div class=\"ghost\" style=\"top: 15%; left: 10%;\"\
    >\U0001F47B</div>\n<div class=\"ghost\" style=\"top: 60%; right: 8%; animation-delay:\
    \ -2s;\">\U0001F47B</div>\n\n<div class=\"choice-container\">\n  <h1 class=\"\
    title\">Do you dare to say... Yes?</h1>\n  <p class=\"subtitle\">Choose wisely,\
    \ brave soul... the spirits are watching \U0001F440</p>\n  \n  <form hx-post=\"\
    /checkpoint/respond\" hx-ext=\"json-enc\">\n    <div class=\"btn-group\">\n  \
    \    <button type=\"submit\" name=\"response[choice]\" value=\"yes\" class=\"\
    btn-yes\">\n        ✨ Yes!\n      </button>\n      <button type=\"submit\" name=\"\
    response[choice]\" value=\"no\" class=\"btn-no\">\n        \U0001F480 No...\n\
    \      </button>\n    </div>\n  </form>\n</div>"
  handoffs:
  - confirm_screen
- name: confirm_screen
  hitl: "<style>\n  @keyframes ghostFloat {\n    0%, 100% { transform: translateY(0)\
    \ translateX(0); opacity: 0.7; }\n    25% { transform: translateY(-15px) translateX(10px);\
    \ opacity: 0.9; }\n    50% { transform: translateY(-5px) translateX(-5px); opacity:\
    \ 0.6; }\n    75% { transform: translateY(-20px) translateX(5px); opacity: 0.8;\
    \ }\n  }\n  @keyframes pulse {\n    0%, 100% { transform: scale(1); }\n    50%\
    \ { transform: scale(1.1); }\n  }\n  .ghost {\n    position: fixed;\n    font-size:\
    \ 60px;\n    animation: ghostFloat 4s ease-in-out infinite;\n    filter: drop-shadow(0\
    \ 0 10px rgba(255,255,255,0.3));\n    z-index: 10;\n    pointer-events: none;\n\
    \  }\n  .confirm-container {\n    min-height: 100vh;\n    display: flex;\n   \
    \ flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\
    \    background: radial-gradient(ellipse at center, #1e1b4b 0%, #0f0a1e 50%, #000\
    \ 100%);\n    padding: 40px;\n  }\n  .choice-display {\n    font-size: 4rem;\n\
    \    margin-bottom: 16px;\n    animation: pulse 2s ease-in-out infinite;\n  }\n\
    \  .question {\n    font-size: 2rem;\n    font-weight: 700;\n    color: #e2e8f0;\n\
    \    margin-bottom: 12px;\n    text-align: center;\n  }\n  .choice-text {\n  \
    \  font-size: 1.2rem;\n    color: #a78bfa;\n    margin-bottom: 40px;\n  }\n  .btn-group\
    \ {\n    display: flex;\n    gap: 20px;\n  }\n  .btn-confirm {\n    background:\
    \ linear-gradient(135deg, #22c55e 0%, #16a34a 100%);\n    color: white;\n    border:\
    \ none;\n    padding: 14px 40px;\n    font-size: 1.1rem;\n    font-weight: 700;\n\
    \    border-radius: 12px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n\
    \    box-shadow: 0 4px 20px rgba(34, 197, 94, 0.3);\n  }\n  .btn-confirm:hover\
    \ {\n    transform: translateY(-3px) scale(1.05);\n    box-shadow: 0 8px 30px\
    \ rgba(34, 197, 94, 0.5);\n  }\n  .btn-back {\n    background: transparent;\n\
    \    color: #94a3b8;\n    border: 2px solid #475569;\n    padding: 14px 40px;\n\
    \    font-size: 1.1rem;\n    font-weight: 600;\n    border-radius: 12px;\n   \
    \ cursor: pointer;\n    transition: all 0.3s ease;\n  }\n  .btn-back:hover {\n\
    \    border-color: #94a3b8;\n    color: #e2e8f0;\n    transform: translateY(-2px);\n\
    \  }\n</style>\n\n<div class=\"ghost\" style=\"top: 20%; right: 12%;\">\U0001F47B\
    </div>\n\n<div class=\"confirm-container\">\n  {% if state.choice == 'yes' %}\n\
    \    <div class=\"choice-display\">✨</div>\n    <h1 class=\"question\">You said\
    \ YES!</h1>\n  {% else %}\n    <div class=\"choice-display\">\U0001F480</div>\n\
    \    <h1 class=\"question\">You said NO...</h1>\n  {% endif %}\n  \n  <p class=\"\
    choice-text\">Are you absolutely sure, brave one?</p>\n  \n  <form hx-post=\"\
    /checkpoint/respond\" hx-ext=\"json-enc\">\n    <input type=\"hidden\" name=\"\
    response[original_choice]\" value=\"{{ state.choice }}\">\n    <div class=\"btn-group\"\
    >\n      <button type=\"submit\" name=\"response[action]\" value=\"confirm\" class=\"\
    btn-confirm\">\n        \U0001F52E Confirm My Fate\n      </button>\n      <button\
    \ type=\"submit\" name=\"response[action]\" value=\"back\" class=\"btn-back\"\
    >\n        ← Change My Mind\n      </button>\n    </div>\n  </form>\n</div>"
  handoffs:
  - celebration_screen
  - farewell_screen
  - choice_screen
- name: celebration_screen
  hitl: "<style>\n  @keyframes confetti-fall {\n    0% { transform: translateY(-100vh)\
    \ rotate(0deg); opacity: 1; }\n    100% { transform: translateY(100vh) rotate(720deg);\
    \ opacity: 0.8; }\n  }\n  @keyframes confetti-shake {\n    0%, 100% { transform:\
    \ translateX(0); }\n    25% { transform: translateX(20px); }\n    75% { transform:\
    \ translateX(-20px); }\n  }\n  @keyframes ghostDance {\n    0%, 100% { transform:\
    \ translateY(0) rotate(-10deg) scale(1); }\n    25% { transform: translateY(-30px)\
    \ rotate(10deg) scale(1.1); }\n    50% { transform: translateY(-10px) rotate(-5deg)\
    \ scale(1.05); }\n    75% { transform: translateY(-40px) rotate(15deg) scale(1.15);\
    \ }\n  }\n  @keyframes rainbow {\n    0% { color: #ff6b6b; }\n    20% { color:\
    \ #feca57; }\n    40% { color: #48dbfb; }\n    60% { color: #ff9ff3; }\n    80%\
    \ { color: #54a0ff; }\n    100% { color: #5f27cd; }\n  }\n  @keyframes popIn {\n\
    \    0% { transform: scale(0) rotate(-180deg); opacity: 0; }\n    50% { transform:\
    \ scale(1.2) rotate(10deg); }\n    100% { transform: scale(1) rotate(0deg); opacity:\
    \ 1; }\n  }\n  .confetti {\n    position: fixed;\n    width: 12px;\n    height:\
    \ 12px;\n    top: -20px;\n    animation: confetti-fall linear forwards, confetti-shake\
    \ 0.5s ease-in-out infinite;\n    z-index: 1000;\n  }\n  .confetti:nth-child(1)\
    \ { left: 10%; background: #ff6b6b; animation-duration: 2.5s; animation-delay:\
    \ 0s; border-radius: 50%; }\n  .confetti:nth-child(2) { left: 20%; background:\
    \ #feca57; animation-duration: 3s; animation-delay: 0.2s; }\n  .confetti:nth-child(3)\
    \ { left: 30%; background: #48dbfb; animation-duration: 2.8s; animation-delay:\
    \ 0.1s; border-radius: 50%; }\n  .confetti:nth-child(4) { left: 40%; background:\
    \ #ff9ff3; animation-duration: 3.2s; animation-delay: 0.3s; }\n  .confetti:nth-child(5)\
    \ { left: 50%; background: #54a0ff; animation-duration: 2.6s; animation-delay:\
    \ 0.15s; border-radius: 50%; }\n  .confetti:nth-child(6) { left: 60%; background:\
    \ #5f27cd; animation-duration: 2.9s; animation-delay: 0.25s; }\n  .confetti:nth-child(7)\
    \ { left: 70%; background: #00d2d3; animation-duration: 3.1s; animation-delay:\
    \ 0.05s; border-radius: 50%; }\n  .confetti:nth-child(8) { left: 80%; background:\
    \ #ff6b6b; animation-duration: 2.7s; animation-delay: 0.35s; }\n  .confetti:nth-child(9)\
    \ { left: 90%; background: #feca57; animation-duration: 3.3s; animation-delay:\
    \ 0.12s; border-radius: 50%; }\n  .confetti:nth-child(10) { left: 5%; background:\
    \ #48dbfb; animation-duration: 2.4s; animation-delay: 0.22s; }\n  .confetti:nth-child(11)\
    \ { left: 15%; background: #ff9ff3; animation-duration: 3.0s; animation-delay:\
    \ 0.08s; border-radius: 50%; }\n  .confetti:nth-child(12) { left: 25%; background:\
    \ #54a0ff; animation-duration: 2.5s; animation-delay: 0.18s; }\n  .confetti:nth-child(13)\
    \ { left: 35%; background: #5f27cd; animation-duration: 2.9s; animation-delay:\
    \ 0.28s; border-radius: 50%; }\n  .confetti:nth-child(14) { left: 45%; background:\
    \ #00d2d3; animation-duration: 3.2s; animation-delay: 0.02s; }\n  .confetti:nth-child(15)\
    \ { left: 55%; background: #ff6b6b; animation-duration: 2.6s; animation-delay:\
    \ 0.32s; border-radius: 50%; }\n  .confetti:nth-child(16) { left: 65%; background:\
    \ #feca57; animation-duration: 2.8s; animation-delay: 0.14s; }\n  .confetti:nth-child(17)\
    \ { left: 75%; background: #48dbfb; animation-duration: 3.4s; animation-delay:\
    \ 0.24s; border-radius: 50%; }\n  .confetti:nth-child(18) { left: 85%; background:\
    \ #ff9ff3; animation-duration: 2.5s; animation-delay: 0.04s; }\n  .confetti:nth-child(19)\
    \ { left: 95%; background: #54a0ff; animation-duration: 3.0s; animation-delay:\
    \ 0.34s; border-radius: 50%; }\n  .confetti:nth-child(20) { left: 12%; background:\
    \ #5f27cd; animation-duration: 2.7s; animation-delay: 0.16s; }\n  .dancing-ghost\
    \ {\n    font-size: 100px;\n    animation: ghostDance 1s ease-in-out infinite;\n\
    \    filter: drop-shadow(0 0 30px rgba(255,255,255,0.5));\n    margin-bottom:\
    \ 20px;\n  }\n  .celebration-container {\n    min-height: 100vh;\n    display:\
    \ flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items:\
    \ center;\n    background: radial-gradient(ellipse at center, #1e1b4b 0%, #0f0a1e\
    \ 50%, #000 100%);\n    padding: 40px;\n    overflow: hidden;\n  }\n  .celebrate-title\
    \ {\n    font-size: 3rem;\n    font-weight: 800;\n    animation: rainbow 2s linear\
    \ infinite, popIn 0.6s ease-out;\n    text-align: center;\n    margin-bottom:\
    \ 16px;\n  }\n  .celebrate-subtitle {\n    color: #94a3b8;\n    font-size: 1.2rem;\n\
    \    margin-bottom: 40px;\n    text-align: center;\n    animation: popIn 0.8s\
    \ ease-out;\n  }\n  .btn-restart {\n    background: linear-gradient(135deg, #a78bfa\
    \ 0%, #8b5cf6 100%);\n    color: white;\n    border: none;\n    padding: 14px\
    \ 36px;\n    font-size: 1rem;\n    font-weight: 600;\n    border-radius: 12px;\n\
    \    cursor: pointer;\n    transition: all 0.3s ease;\n    animation: popIn 1s\
    \ ease-out;\n  }\n  .btn-restart:hover {\n    transform: translateY(-3px) scale(1.05);\n\
    \    box-shadow: 0 8px 30px rgba(167, 139, 250, 0.5);\n  }\n</style>\n\n<!-- Confetti\
    \ particles -->\n<div class=\"confetti\"></div><div class=\"confetti\"></div><div\
    \ class=\"confetti\"></div>\n<div class=\"confetti\"></div><div class=\"confetti\"\
    ></div><div class=\"confetti\"></div>\n<div class=\"confetti\"></div><div class=\"\
    confetti\"></div><div class=\"confetti\"></div>\n<div class=\"confetti\"></div><div\
    \ class=\"confetti\"></div><div class=\"confetti\"></div>\n<div class=\"confetti\"\
    ></div><div class=\"confetti\"></div><div class=\"confetti\"></div>\n<div class=\"\
    confetti\"></div><div class=\"confetti\"></div><div class=\"confetti\"></div>\n\
    <div class=\"confetti\"></div><div class=\"confetti\"></div>\n\n<div class=\"\
    celebration-container\">\n  <div class=\"dancing-ghost\">\U0001F47B</div>\n  <h1\
    \ class=\"celebrate-title\">\U0001F389 YES! You Did It! \U0001F389</h1>\n  <p\
    \ class=\"celebrate-subtitle\">The spirits celebrate your courage! ✨</p>\n  \n\
    \  <form hx-post=\"/checkpoint/respond\" hx-ext=\"json-enc\">\n    <button type=\"\
    submit\" name=\"response[action]\" value=\"restart\" class=\"btn-restart\">\n\
    \      \U0001F504 Start Over\n    </button>\n  </form>\n</div>"
  handoffs:
  - choice_screen
- name: farewell_screen
  hitl: "<style>\n  @keyframes ghostSad {\n    0%, 100% { transform: translateY(0)\
    \ rotate(0deg); }\n    25% { transform: translateY(-10px) rotate(-5deg); }\n \
    \   50% { transform: translateY(-5px) rotate(5deg); }\n    75% { transform: translateY(-15px)\
    \ rotate(-3deg); }\n  }\n  @keyframes fadeInSlow {\n    0% { opacity: 0; transform:\
    \ translateY(20px); }\n    100% { opacity: 1; transform: translateY(0); }\n  }\n\
    \  @keyframes wave {\n    0%, 100% { transform: rotate(0deg); }\n    25% { transform:\
    \ rotate(20deg); }\n    75% { transform: rotate(-20deg); }\n  }\n  @keyframes\
    \ tear {\n    0% { opacity: 0; transform: translateY(0); }\n    50% { opacity:\
    \ 1; }\n    100% { opacity: 0; transform: translateY(30px); }\n  }\n  .farewell-container\
    \ {\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n\
    \    justify-content: center;\n    align-items: center;\n    background: radial-gradient(ellipse\
    \ at center, #1a1a2e 0%, #0d0d1a 50%, #000 100%);\n    padding: 40px;\n  }\n \
    \ .sad-ghost-container {\n    position: relative;\n    margin-bottom: 20px;\n\
    \  }\n  .sad-ghost {\n    font-size: 100px;\n    animation: ghostSad 3s ease-in-out\
    \ infinite;\n    filter: drop-shadow(0 0 20px rgba(148, 163, 184, 0.3));\n  }\n\
    \  .ghost-hand {\n    position: absolute;\n    right: -30px;\n    top: 30px;\n\
    \    font-size: 40px;\n    animation: wave 1s ease-in-out infinite;\n  }\n  .tear\
    \ {\n    position: absolute;\n    font-size: 20px;\n    left: 35px;\n    top:\
    \ 40px;\n    animation: tear 2s ease-in-out infinite;\n  }\n  .tear:nth-child(2)\
    \ {\n    left: 55px;\n    animation-delay: 0.5s;\n  }\n  .farewell-title {\n \
    \   font-size: 2.5rem;\n    font-weight: 700;\n    color: #64748b;\n    margin-bottom:\
    \ 16px;\n    animation: fadeInSlow 1s ease-out;\n    text-align: center;\n  }\n\
    \  .farewell-subtitle {\n    color: #475569;\n    font-size: 1.1rem;\n    margin-bottom:\
    \ 40px;\n    text-align: center;\n    animation: fadeInSlow 1.2s ease-out;\n \
    \ }\n  .btn-tryagain {\n    background: linear-gradient(135deg, #475569 0%, #334155\
    \ 100%);\n    color: #e2e8f0;\n    border: none;\n    padding: 14px 36px;\n  \
    \  font-size: 1rem;\n    font-weight: 600;\n    border-radius: 12px;\n    cursor:\
    \ pointer;\n    transition: all 0.3s ease;\n    animation: fadeInSlow 1.4s ease-out;\n\
    \  }\n  .btn-tryagain:hover {\n    background: linear-gradient(135deg, #6366f1\
    \ 0%, #4f46e5 100%);\n    transform: translateY(-3px) scale(1.05);\n    box-shadow:\
    \ 0 8px 30px rgba(99, 102, 241, 0.4);\n  }\n</style>\n\n<div class=\"farewell-container\"\
    >\n  <div class=\"sad-ghost-container\">\n    <div class=\"sad-ghost\">\U0001F47B\
    </div>\n    <span class=\"ghost-hand\">\U0001F44B</span>\n    <span class=\"tear\"\
    >\U0001F4A7</span>\n    <span class=\"tear\">\U0001F4A7</span>\n  </div>\n  \n\
    \  <h1 class=\"farewell-title\">Maybe next time...</h1>\n  <p class=\"farewell-subtitle\"\
    >The spirits understand. They'll be here when you're ready. \U0001F319</p>\n \
    \ \n  <form hx-post=\"/checkpoint/respond\" hx-ext=\"json-enc\">\n    <button\
    \ type=\"submit\" name=\"response[action]\" value=\"restart\" class=\"btn-tryagain\"\
    >\n      \U0001F49C Give it another go?\n    </button>\n  </form>\n</div>"
  handoffs:
  - choice_screen
_calliope_metadata:
  created_at: '2025-12-31T01:40:00.869248'
  version: 1
