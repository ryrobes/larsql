cascade_id: tool_caching_demo
description: Demonstrates tool caching to avoid redundant SQL searches
inputs_schema:
  dataset: Dataset name to query multiple times
cells:
- handoffs:
  - query
  instructions: Search for {{ input.dataset }} tables. Try multiple searches with
    the same query to see caching in action.
  name: explore
  rules:
    max_turns: 3
  traits:
  - sql_search
- handoffs:
  - analyze
  instructions: Based on the schema found, write a SQL query to analyze {{ input.dataset
    }}. Run it twice to see caching.
  name: query
  rules:
    max_turns: 2
  traits:
  - sql_query
- instructions: Analyze the query results and provide insights.
  name: analyze
  traits: []
tool_caching:
  enabled: true
  global_ttl: 3600
  max_cache_size: 100
  tools:
    sql_query:
      enabled: true
      hit_message: ✓ Using cached SQL results
      key: sql_hash
      ttl: 600
    sql_search:
      enabled: true
      hit_message: ✓ Using cached RAG results (no redundant search)
      key: query
      ttl: 7200
