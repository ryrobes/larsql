{
  "cascade_id": "context_demo_parent",
  "cells": [
    {
      "name": "setup",
      "instructions": "Use the 'set_state' tool to set a state variable 'secret_code' to 'BLUE_OCEAN'.",
      "traits": [
        "set_state"
      ],
      "handoffs": [
        "call_child"
      ]
    },
    {
      "name": "call_child",
      "instructions": "Calling child cascade with context inheritance.",
      "traits": [],
      "context": {
        "from": [
          "previous"
        ]
      },
      "sub_cascades": [
        {
          "ref": "context_demo_child.json",
          "context_in": true,
          "context_out": true
        }
      ],
      "handoffs": [
        "verify"
      ]
    },
    {
      "name": "verify",
      "instructions": "Current State: {{ state }}. The child should have added 'child_status' to the state. Verify it.",
      "traits": [],
      "context": {
        "from": [
          "all"
        ]
      },
      "rules": {
        "max_turns": 1
      }
    }
  ]
}