cascade_id: trait
internal: true
description: 'Universal trait executor - call any registered trait from SQL.

  Provides full observability through the cascade system.

  '
inputs_schema:
  trait_name: Name of the trait to call (e.g., 'say', 'brave_web_search')
  args: JSON object of arguments to pass to the trait
sql_function:
  name: trait
  description: Call any registered trait and return results as a table
  args:
  - name: trait_name
    type: VARCHAR
  - name: args
    type: VARCHAR
  returns: VARCHAR
  shape: SCALAR
  operators:
  - trait({{ trait_name }}, {{ args }})
  cache: false
  # test_cases:
  # - sql: SELECT trait('The quick brown fox', 'word_count')
  #   expect:
  #     type: regex
  #     pattern: .+
  #   description: Text trait extracted
cells:
- name: call_trait
  tool: trait_executor
  inputs:
    trait_name: '{{ input.trait_name }}'
    args: '{{ input.args }}'
