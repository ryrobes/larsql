{
  "cascade_id": "context_sugar_demo",
  "description": "Demonstrates context injection sugar: 'first', 'previous', and 'all' keywords",
  "cells": [
    {
      "name": "original_problem",
      "instructions": "You are given this problem to solve: 'Design a REST API for a todo app'. Describe the key endpoints needed. Include the codeword PROBLEM-001 in your response. Then route to brainstorm.",
      "handoffs": [
        "brainstorm"
      ]
    },
    {
      "name": "brainstorm",
      "instructions": "Brainstorm some additional features beyond basic CRUD. Include the codeword BRAINSTORM-002 in your response. Then route to draft.",
      "context": {
        "from": [
          "previous"
        ]
      },
      "handoffs": [
        "draft"
      ]
    },
    {
      "name": "draft",
      "instructions": "Create a draft API specification. Include the codeword DRAFT-003 in your response. Then route to review.",
      "context": {
        "from": [
          "previous"
        ]
      },
      "handoffs": [
        "review"
      ]
    },
    {
      "name": "review",
      "instructions": "Review the draft and suggest improvements. Include the codeword REVIEW-004 in your response. Then route to final.",
      "context": {
        "from": [
          "previous"
        ]
      },
      "handoffs": [
        "final"
      ]
    },
    {
      "name": "final",
      "instructions": "Create the final API specification.\n\nIMPORTANT: You should see:\n1. The ORIGINAL problem statement (via 'first' keyword) with PROBLEM-001\n2. The REVIEW feedback (via 'previous' keyword) with REVIEW-004\n\nYou should NOT see BRAINSTORM-002 or DRAFT-003 - those phases are skipped!\n\nIf you can see all the codewords, the context selection is NOT working correctly.",
      "context": {
        "from": [
          "first",
          "previous"
        ],
        "include_input": false
      },
      "handoffs": []
    }
  ]
}