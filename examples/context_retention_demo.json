{
  "cascade_id": "context_retention_demo",
  "description": "Demonstrates context_retention: output_only to prevent RAG/tool results from bloating future phases",
  "inputs_schema": {
    "topic": "What to search for"
  },
  "phases": [
    {
      "name": "search_with_rag",
      "context_retention": "output_only",
      "instructions": "Search for information about: {{ input.topic }}\n\nUse the sql_search tool to find relevant tables. After searching, summarize what you found in 1-2 sentences. State which table you would use.",
      "tackle": ["sql_search"],
      "handoffs": ["analyze_context"]
    },
    {
      "name": "analyze_context",
      "instructions": "Look at what the previous phase found. \n\nIMPORTANT: Print out the FULL context you can see from the previous phase. Show me everything you have access to from that phase's work.\n\nThen, confirm which table we should query based on the previous phase's recommendation.",
      "tackle": [],
      "handoffs": ["final_summary"]
    },
    {
      "name": "final_summary",
      "instructions": "Provide a final summary of what we learned. Confirm that you DO NOT have access to the full RAG dump from phase 1, only the summary.",
      "tackle": []
    }
  ]
}
