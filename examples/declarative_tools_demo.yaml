cascade_id: declarative_tools_demo

description: Demonstrates using declarative .tool.json tools in a cascade. These tools are defined in
  JSON - no Python code needed!

inputs_schema:
  directory: 'Directory to analyze (default: current directory)'
  search_term: A term to search for in the codebase

phases:
  - instructions: |-
      First, let's explore the directory structure to understand what we're working with.

      Use the list_directory tool to see what's in {{ input.directory | default('.') }}.

      Provide a brief summary of the directory contents.
    name: explore_directory
    rules:
      max_turns: 2
    tackle:
      - list_directory
  - context:
      from:
        - previous
    instructions: |-
      Now search for '{{ input.search_term }}' in the directory.

      Use the search_files tool to find all occurrences.

      Summarize:
      1. How many files contain the search term?
      2. What types of files are they?
      3. Any interesting patterns you notice?
    name: search_codebase
    rules:
      max_turns: 2
    tackle:
      - search_files
  - instructions: |-
      Let's also grab some network context using the HTTP-based get_public_ip tool.

      This demonstrates that declarative tools can also make HTTP API calls!

      Report the public IP and location info.
    name: get_network_info
    rules:
      max_turns: 1
    tackle:
      - get_public_ip
  - context:
      from:
        - all
    instructions: |-
      Provide a final summary of what we discovered:

      1. Directory structure overview
      2. Search results for '{{ input.search_term }}'
      3. Network/location context

      Format as a brief report.
    name: final_summary
    rules:
      max_turns: 1
