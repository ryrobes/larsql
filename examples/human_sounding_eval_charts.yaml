cascade_id: human_sounding_eval_charts

description: Test cascade for human evaluation of soundings with chart generation - each sounding creates
  a different chart visualization

inputs_schema:
  data_topic: A topic to visualize with data (e.g. 'monthly sales', 'user growth')

phases:
  - instructions: "Create a data visualization for {{ input.data_topic }}.\n\nYou have tools to create\
      \ charts. Make up realistic sample data and create a chart that would be useful for analyzing {{\
      \ input.data_topic }}.\n\nBe creative with:\n- Chart type (bar, line, pie, etc.)\n- Color scheme\n\
      - Data representation\n- Meaningful titles and labels\n\nGenerate the chart using one of the available\
      \ chart tools."
    name: generate_charts
    rules:
      max_turns: 3
    soundings:
      evaluator: human
      factor: 3
      human_eval:
        presentation: side_by_side
        preview_render: markdown
        require_reasoning: yes
        selection_mode: pick_one
        show_metadata: yes
        show_mutations: no
        timeout_seconds: 300
      mutate: yes
      mutation_mode: augment
      mutations:
        - Create a simple, clean chart with minimal decoration.
        - Create a colorful, visually striking chart with rich detail.
        - Create an informative chart with comprehensive annotations and labels.
    tackle:
      - create_chart
      - create_vega_lite
      - create_plotly
  - context:
      from:
        - previous
    instructions: |-
      The user selected the winning chart visualization.

      Previous output:
      {{ outputs.generate_charts }}

      Provide a brief summary of:
      1. What chart type was selected
      2. What data it showed
      3. Why it might have been chosen (based on visual clarity, information density, etc.)
    name: describe_winner
    rules:
      max_turns: 1
