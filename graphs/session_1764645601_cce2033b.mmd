graph TD
    %% Styles
    classDef default fill:#f9f9f9,stroke:#333,stroke-width:1px;
    classDef system fill:#e1f5fe,stroke:#333;
    classDef user fill:#fff9c4,stroke:#333;
    classDef agent fill:#dcedc8,stroke:#333;
    classDef tool fill:#ffccbc,stroke:#333;
    classDef error fill:#ffcdd2,stroke:#f44336;
    classDef structure fill:#eeeeee,stroke:#666,stroke-dasharray: 5 5;
    classDef cascade fill:#ffffff,stroke:#333,stroke-width:2px;
    classDef soundings fill:#e3f2fd,stroke:#1976d2,stroke-width:3px;
    classDef sounding_attempt fill:#bbdefb,stroke:#1976d2,stroke-dasharray: 3 3;
    classDef winner fill:#c8e6c9,stroke:#388e3c,stroke-width:3px;
    subgraph node_8325a35f [STRUCTURE: Cascade: chart_feedback_refinement]
    direction TB
    class node_8325a35f cascade
        subgraph node_f6d3037b [STRUCTURE: Phase: create_initial_chart]
        direction TB
        class node_f6d3037b structure
                node_a5ca0a90["SOUNDINGS_RESULT<br/>Selected best of 3 attempts"]
            class node_a5ca0a90 default
        end
    end
        node_6e2f5c56["SYSTEM<br/>Original intent: Create a chart with title 'Sales Data Q1-Q4' and data: 10,25,15,30,20\n\nRequirements: High contrast colors for accessibility, large readable labels, clear trend visibility\n\nUse the create_chart tool. After creating it, the image will be automatically injected for you to see.\n\nOnce you see the chart image, analyze it against the requirements and describe:\n1. What you observe visually\n2. How well it meets the requirements\n3. What specific improvements are needed\n\nCurrent..."]
    class node_6e2f5c56 system
        node_b028fdd1["USER<br/> Input Data:\n{\'data\': \'10,25,15,30,20\', \'title\': \'Sales Data Q1-Q4\', \'requirements\': \'High contrast colors for accessibility, large readable labels, clear trend visibility\'}"]
    class node_b028fdd1 user
    node_8325a35f -.-> node_6e2f5c56
    node_6e2f5c56 -.-> node_b028fdd1