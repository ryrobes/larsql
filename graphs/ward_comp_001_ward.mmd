graph TD
    %% Styles
    classDef default fill:#f9f9f9,stroke:#333,stroke-width:1px;
    classDef system fill:#e1f5fe,stroke:#333;
    classDef user fill:#fff9c4,stroke:#333;
    classDef agent fill:#dcedc8,stroke:#333;
    classDef tool fill:#ffccbc,stroke:#333;
    classDef error fill:#ffcdd2,stroke:#f44336;
    classDef structure fill:#eeeeee,stroke:#666,stroke-dasharray: 5 5;
    classDef cascade fill:#ffffff,stroke:#333,stroke-width:2px;
    classDef soundings fill:#e3f2fd,stroke:#1976d2,stroke-width:3px;
    classDef sounding_attempt fill:#bbdefb,stroke:#1976d2,stroke-dasharray: 3 3;
    classDef winner fill:#c8e6c9,stroke:#388e3c,stroke-width:3px;
    subgraph node_c3d2436b [STRUCTURE: Cascade: simple_validator]
    direction TB
    class node_c3d2436b cascade
        subgraph node_c533e6a6 [STRUCTURE: Phase: validate]
        direction TB
        class node_c533e6a6 structure
                node_bf566f2e["SYSTEM<br/>Check if the content is non-empty and has at least 10 characters. Return ONLY a JSON object with this exact format: {\'valid\': true/false, \'reason\': \'explanation\'}. Do not include any other text."]
            class node_bf566f2e system
                node_b3c356ae["USER<br/> Input Data:\n{\'content\': \'{\\\'article_topic\\\': \\\'The Future of Renewable Energy\\\', \\\'target_length\\\': \\\'500\\\'}\'}"]
            class node_b3c356ae user
        end
    end
        node_8ed7889d["ASSISTANT<br/>{\'valid\': false, \'reason\': \'The content is non-empty but contains only 54 characters.\'}"]
    class node_8ed7889d agent
    subgraph node_0a9e8e50 [STRUCTURE: Cascade: content_safety]
    direction TB
    class node_0a9e8e50 cascade
        subgraph node_9f8fafa8 [STRUCTURE: Phase: safety_check]
        direction TB
        class node_9f8fafa8 structure
                node_266cd79e["SYSTEM<br/>Review the content for potential safety issues:\n- Hate speech or discrimination\n- Violence or harmful content\n- Explicit or inappropriate content\n- Misinformation or dangerous advice\n\nBe reasonable - educational or news content discussing these topics is acceptable.\n\nReturn ONLY a JSON object with this exact format:\n{\'valid\': true/false, \'reason\': \'explanation of safety assessment\'}\n\nDo not include any other text."]
            class node_266cd79e system
                node_26ffac9f["USER<br/> Input Data:\n{\'content\': \' The Future of Renewable Energy: A Brighter Tomorrow\\n\\nAs we navigate through the challenges posed by climate change, one thing becomes increasingly clear: the future of energy lies in renewable resources. The world is waking up to the fact that fossil fuels not only deplete our planet's natural assets but also contribute significantly to pollution and global warming. Harnessing renewable energy sources\\u2014such as solar, wind, and hydroelectric power\\u2014has..."]
            class node_26ffac9f user
        end
    end
        node_8ab3b517["ASSISTANT<br/>{\'valid\': true, \'reason\': \'The content discusses the future of renewable energy, emphasizing technological advancements and policies aimed at sustainability. It does not contain hate speech, violence, explicit content, or misinformation, making it safe and appropriate.\'}"]
    class node_8ab3b517 agent
    subgraph node_7338df07 [STRUCTURE: Cascade: keyword_validator]
    direction TB
    class node_7338df07 cascade
        subgraph node_2d43bbd3 [STRUCTURE: Phase: validate]
        direction TB
        class node_2d43bbd3 structure
                node_3a3b7352["SYSTEM<br/>Check if the text contains the word 'important' (case-insensitive).\n\nReturn ONLY a JSON object:\n- If it contains 'important': {\'valid\': true, \'reason\': \'Content contains required keyword\'}\n- If it does NOT contain 'important': {\'valid\': false, \'reason\': \'Content must include the word 'important'\'}\n\nNo other text."]
            class node_3a3b7352 system
                node_b326a5bc["USER<br/> Input Data:\n{\'content\': \' The Future of Renewable Energy: A Brighter Tomorrow\\n\\nAs we navigate through the challenges posed by climate change, one thing becomes increasingly clear: the future of energy lies in renewable resources. The world is waking up to the fact that fossil fuels not only deplete our planet's natural assets but also contribute significantly to pollution and global warming. Harnessing renewable energy sources\\u2014such as solar, wind, and hydroelectric power\\u2014has..."]
            class node_b326a5bc user
        end
    end
        node_8802bc62["ASSISTANT<br/>{\'valid\': true, \'reason\': \'Content contains required keyword\'}"]
    class node_8802bc62 agent
    subgraph node_0021449d [STRUCTURE: Cascade: grammar_check]
    direction TB
    class node_0021449d cascade
        subgraph node_83e10f1e [STRUCTURE: Phase: check]
        direction TB
        class node_83e10f1e structure
                node_8dcb1abd["SYSTEM<br/>Review the provided text for grammar and spelling errors. Check for:\n- Spelling mistakes\n- Grammar issues\n- Punctuation errors\n- Basic readability\n\nReturn ONLY a JSON object with this exact format:\n{\'valid\': true/false, \'reason\': \'explanation of issues found or confirmation it's good\', \'issues\': [list of specific issues]}\n\nIf there are 3 or more significant issues, mark as invalid. Minor issues are acceptable."]
            class node_8dcb1abd system
                node_f38be133["USER<br/> Input Data:\n{\'content\': \' The Future of Renewable Energy: A Brighter Tomorrow\\n\\nAs we navigate through the challenges posed by climate change, one thing becomes increasingly clear: the future of energy lies in renewable resources. The world is waking up to the fact that fossil fuels not only deplete our planet's natural assets but also contribute significantly to pollution and global warming. Harnessing renewable energy sources\\u2014such as solar, wind, and hydroelectric power\\u2014has..."]
            class node_f38be133 user
        end
    end
        node_0c21299c["ASSISTANT<br/>{\n  \'valid\': true,\n  \'reason\': \'The text is well-written with no significant issues.\',\n  \'issues\': []\n}"]
    class node_0c21299c agent
    node_c3d2436b -.-> node_8ed7889d
    node_8ed7889d -.-> node_0a9e8e50
    node_0a9e8e50 -.-> node_8ab3b517
    node_8ab3b517 -.-> node_7338df07
    node_7338df07 -.-> node_8802bc62
    node_8802bc62 -.-> node_0021449d
    node_0021449d -.-> node_0c21299c