cascade_id: web_navigator
description: Navigate websites step-by-step with visual feedback to accomplish a specific goal. Returns summary of what was
  found.
inputs_schema:
  url: Starting URL to visit
  goal: Specific goal to accomplish (e.g., 'find pricing information', 'locate contact form', 'extract article text')
  max_actions: 'Maximum number of navigation actions to take (default: 10)'
cells:
- name: start_and_plan
  instructions: |-
    Start browser at {{ input.url }} and examine the initial page.

    Your goal: {{ input.goal }}

    Describe what you see and plan your navigation strategy.
  handoffs:
  - execute_navigation
  rules:
    max_turns: 2
  skills:
  - rabbitize_start
  - rabbitize_extract
- name: execute_navigation
  instructions: |-
    Navigate the site to accomplish: {{ input.goal }}

    CRITICAL: To click, FIRST move the mouse, THEN click!

    You can:
    - rabbitize_execute('[":move-mouse", ":to", x, y]') - Move cursor (REQUIRED before click!)
    - rabbitize_execute('[":click"]') - Click at current cursor position (NO ARGS!)
    - rabbitize_execute('[":type", "text"]') - Type text
    - rabbitize_execute('[":scroll-wheel-down", N]') - Scroll
    - rabbitize_execute('[":keypress", "key"]') - Press key
    - rabbitize_extract() - Get page content

    Take ONE action at a time. After each action, check the screenshot to see the result.

    When you've found the information or completed the goal, route to finish.
  handoffs:
  - finish
  rules:
    max_turns: 10
    max_attempts: 2
    loop_until: satisfied
    loop_until_silent: true
    retry_instructions: 'Keep navigating to accomplish: {{ input.goal }}'
  skills:
  - rabbitize_execute
  - rabbitize_extract
  - route_to
- name: finish
  instructions: |-
    You've accomplished the goal: {{ input.goal }}

    Summarize what you found and close the browser session.

    IMPORTANT: Your summary should be concise and focus on the information requested in the goal.
  rules:
    max_turns: 1
  skills:
  - rabbitize_close
