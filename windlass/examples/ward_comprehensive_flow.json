{
  "cascade_id": "ward_comprehensive_flow",
  "description": "Comprehensive example using all three ward modes together",
  "inputs_schema": {
    "article_topic": "Topic for the article",
    "target_length": "Target word count"
  },
  "phases": [{
    "name": "plan",
    "instructions": "Create an article outline for: {{ input.article_topic }}\n\nTarget length: {{ input.target_length }} words\n\nProvide a structured outline with main points.",
    "wards": {
      "pre": [{
        "validator": "simple_validator",
        "mode": "blocking"
      }],
      "post": [{
        "validator": "length_check",
        "mode": "advisory"
      }]
    },
    "rules": {
      "max_turns": 1
    },
    "handoffs": ["write"]
  }, {
    "name": "write",
    "instructions": "Based on your outline, write the full article about {{ input.article_topic }}.\n\nMake it engaging and well-structured. Include the word 'important' naturally in the content.",
    "wards": {
      "post": [{
        "validator": "content_safety",
        "mode": "blocking"
      }, {
        "validator": "keyword_validator",
        "mode": "retry",
        "max_attempts": 3
      }, {
        "validator": "grammar_check",
        "mode": "advisory"
      }]
    },
    "rules": {
      "max_turns": 1,
      "max_attempts": 3,
      "retry_instructions": "üõ°Ô∏è  Ward Validation:\n\n{{ validation_error }}\n\nPlease revise. Attempt {{ attempt }}/{{ max_attempts }}"
    },
    "handoffs": ["finalize"]
  }, {
    "name": "finalize",
    "instructions": "Article passed all critical wards! üéâ\n\n‚úÖ Safety: PASSED (blocking)\n‚úÖ Keyword: PASSED (retry)\n‚ÑπÔ∏è  Grammar: Checked (advisory)\n\nProvide a brief summary of the final article.",
    "tackle": ["set_state"]
  }]
}
